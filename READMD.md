# SHOP TABLE RESERVATION SERVICE
2024 매장 테이블 예약 서비스

# < 개발 중 문의사항 >
1. 강의에서 DB 테이블 생성 시 id값을 자동증가하도록 설정합니다.   
   현재 프로젝트에서에서 리뷰 정보를 담는 테이블의 경우 pk값으로 예약번호(id)와 순번을 복합키로 이용해도 될 것 같은 생각이 듭니다.   
   복합키로 pk를 만들 수도 있는데 모든 id를 자동증가로 생성하는 이유가 있을까요?
   DB 설계시 id를 테이블의 pk로 사용하는 것이 권장되는 벙법인지 궁금합니다.

2. 회원가입 시 테이블의 PK값인 id가 자동증가하도록 했습니다.   
   id값이 자동증가하다보니 insert 하기 전에 생성자, 수정자 id를 추가해 저장할 수 없습니다.   
   @CreatedBy를 통해 insert 시 id값이 자동 입력되게 하고싶은데 이 또한 결국 id값을 알고있어야 가능한 것 같습니다.
   회원가입 시, 즉 회원가입 전이라 사용자의 id가 없는 경우에는 데이터를 넣을 수 없나요?
   - 참고 : SignUpService.saveManager()


3. Base64 라이브러리 대체 방법
   > jwt 토큰 생성 시 사용할 시크릿키를 생성하기위해 Aes256Util.class를 생성했습니다.    
   Base64.encodeBase64String() 메서드 이용 시 경고 표시가 뜨길래 확인해보니 해당 라이브러리를 톰캣 버전 11부터 지원하지 않는다고 되어있는 것을 확인했습니다.    
   현재 톰캣 10 버전 이용중이라 문제는 없을 것 같지만 만일 추후 톰캣을 업데이터 한다고 생각하고 Base64 라이브러리를 대체하는 것을 생각하고 싶습니다.    
   이런 경우 Aes256UtilAdapter 인터페이스를 두어 변경에 대비하는 것이 좋을지
   아니면 Base64 패키지를 이용해 encodeBase64String() 메서드를 호출하는 부분을 interface로 빼서 처리하는 것이 좋을지 궁금합니다.   
   또한 이런 경우 인터페이스로 떼서 처리하는 것이 나은지 아니면 다른 더 좋은 방법이 있는지도 궁금합니다.




    

# 개요
    간단한 매장 테이블 예약 서비스 제공 프로젝트 

    Goal : 매장 이용을 위한 방문 예약 가능한 예약 서버를 구축한다.

    Use : SpringBoot, Jpa
          Java 17
          Database - RDB : Mysql
          Test - Junit5
          Build - Gradle
          Login Token - JWT
          Test UI = PostMan
    
    산출물 : DB ERD, 

## 1. 매장 예약 서비스를 위한 기본구현기능.
    - 필요 테이블 : 회원테이블(매장이용자,관리자 동시관리), 권한테이블, 매장테이블

### 공통
- [x] 로그인 토큰 발생 (003-SIGN-IN)
- [x] 로그인 및 권한체크
- [x] 로그인 토큰을 이용한 제어 확인
    - (로그인한 상태에서만 페이지에 접근가능 \ JWT, Filter 이용해 간략하게 진행)

### 고객(매장이용자)
- [x] 회원 가입 (002-SIGN-UP-ALL)
- [ ] 매장 검색
    - 가나다순, 별점순, 거리순으로 정렬가능.  
- [ ] 매장상세정보 확인
- [ ] 매장 예약
    - 예약 가능여부 확인. 
    - 매장 예약은 매장상세정보 페이지에서 가능.
    - 예약 진행을 위해 회원가입 필수.
    - 예약 시 필요정보 : 상점, 날짜, 시간, 전화번호
- [ ] 도착 확인 
    - 예약 이후 예약시간 10분 전 키오스크를 통한 방문확인.
    - 예약 10분 전 방문확인 하지 않은 경우 예약 취소.
- [ ] 예약 및 사용 이후 리뷰 작성
    - [ ] 리뷰 작성 : 예약자만 작성 가능. 
    - [ ] 리뷰 수정 : 리뷰 작성자만 가능.
    - [ ] 리뷰 삭제 : 리뷰 작성자, 매장관리자만 가능.
    
### 점장(매장관리자)
- [x] 파트너(회원) 가입 (001-SIGN-UP)
- [ ] 매장 등록  
    - 파트너 회원가입 후 등록가능.
    - 승인조건없음.
- [ ] 매장 수정
- [ ] 매장 삭제
- [ ] 예약 정보 확인 
    - 날짜별 시간 테이블 목록 확인가능.


---
## 2. 매장 예약 서비스 고도화.

### 점장(매장관리자)
- [ ] 예약에 대한 승인/거절 기능.
    - 예약 후 바로 해당 시간에 매장을 이용하는 것은 매장의 상황을 고려하지 않고 진행됨.
      매장 상황을 고려해 운영하기 위해 점장이 들어온 예약에 대해 승인, 거절 후 예약 확정되도록 진행.



